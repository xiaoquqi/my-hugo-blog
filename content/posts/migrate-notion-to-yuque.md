---
title: 从Notion迁移至语雀的图片问题
date: 2022-11-28T08:40:27+08:00
slug: "migrate-notion-to-yuque"
author: 老孙正经胡说
tags:
  - notion
  - yuque
categories:
  - Blog
draft: false
---

## 为什么要迁移

Notion是一款非常优秀的笔记软件，在此之前我一直是印象笔记的拥趸，但是随着Notion这种全新概念的、符合程序员使用习惯的笔记软件出现后，完全撬动了印象笔记的市场。但是由于Notion服务器主要存储于国外，图片主要在AWS S3上，国内使用的速度上的用户体验较差。

从2013年创业开始，一直在寻求一款团队内部的知识共享平台，从早期自建Mediawiki、Remine再到后来的Teakki，几经辗转，最后终于将全部的知识共享移动到语雀上，目前语雀的功能几乎满足了团队协作中的全部需求，从最基本的基于Markdown文档共享、编辑、历史版本，再到PlantUML时序图绘制能力，再到画板，完美覆盖了原有全部知识体系软件的功能。所以，为了统一知识共享软件，最后决定将自有的Notion文档全部切换至语雀上。

## 迁移遇到了哪些问题

Notion本身提供了较为强大的导出功能，可以在任意页面将全部子页面一次性全部导出成zip文件，包含了全部的图片，这个功能还是非常良心的，用户无须担心自己软件锁定。

![2022-11-28-08-49-22](/images/2022-11-28-08-49-22.png)


而语雀方面，也提供了较为完整的导入功能，不旦可以导入某一个文件，还支持zip包的整体导入，这样从Notion导出的包可以直接在语雀中导入，从而实现快速迁移。

![2022-11-28-08-49-41](/images/2022-11-28-08-49-41.png)

但美中不足的是，不知道是不是语雀的Bug，并不是所有的图片都被正确的导入。如下图所示：

![2022-11-28-08-49-58](/images/2022-11-28-08-49-58.png)


## 如何解决这些问题

目前还没有从任何公开文档中找到相关问题的解释或解决方案，如果有读者了解到相关更便捷的方法，可以告知一下。

目前在浏览器中的支持粘贴图片的编辑器，通常需要直接访问图片地址，也就是图片必须有公网直接访问的，所以我的基本思路为：

首先，通过Notion导出功能，将文档导出为HTML格式包;

第二，如果文档较多，且只有一部分为有图片的文档，可以先尝试用Markdown格式导入后，再单独修复有图片的文档；

第三，在任意公有云的对象存储服务中，新建一个存储桶，权限为“公有读私有写”

![2022-11-28-08-50-23](/images/2022-11-28-08-50-23.png)

第四，将我们的文件目录直接上传

![2022-11-28-08-50-30](/images/2022-11-28-08-50-30.png)

第五，上传完成后，回到文件列表，找到要导入文档的HTML文件的详情，复制链接后直接在浏览器打开

![2022-11-28-08-50-38](/images/2022-11-28-08-50-38.png)

第六，此时你应该可以在浏览器中看到完整的文档，你需要做的需要全选后复制，直接粘贴到你语雀的文档后，图片就会正常的显示了。